import{l as Z}from"./chunk-YRQUAD3Q.js";import{Aa as m,Ca as g,Fa as _,Ga as A,Ha as C,Ia as V,Ja as l,K as G,Ka as a,L as j,La as D,M as B,Ma as v,Na as d,O as R,Oa as c,Pa as b,Qa as k,R as M,Ra as $,Sa as P,T as U,U as S,V as H,W as y,a as W,aa as I,b as q,ea as z,fa as x,l as E,oa as u,pa as f,ra as N,ua as p,v as w,va as O}from"./chunk-CZRN2G5H.js";var X=(()=>{class t{constructor(){this.http=M(Z),this.translationsUrl="https://bible.helloao.org/api/available_translations.json",this.baseUrl="https://bible.helloao.org/api"}getTranslations(){return this.http.get(this.translationsUrl)}getBooks(e){return this.http.get(`${this.baseUrl}/${e}/books.json`)}getChapters(e,n,i){return this.http.get(`${this.baseUrl}/${e}/${n}/${i}.json`)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ae=(t,r)=>r.number;function le(t,r){if(t&1&&c(0),t&2){let e=d().$implicit;k(" ",e.text," ")}}function ue(t,r){t&1&&D(0,"br")}function ce(t,r){t&1&&c(0," \xA0 ")}function de(t,r){if(t&1&&c(0),t&2){let e=d().$implicit;k(" ",e," ")}}function he(t,r){if(t&1&&m(0,le,1,1)(1,ue,1,0)(2,ce,1,0)(3,de,1,1),t&2){let e=r.$implicit;_(0,e.text?0:e.lineBreak||e.type==="line_break"?1:e.noteId||e.noteId===0?2:3)}}function fe(t,r){if(t&1&&(l(0,"div",2)(1,"sup",3),c(2),a(),l(3,"span",4),C(4,he,4,1,null,null,A),a()()),t&2){let e=d().$implicit;u(2),b(e.number),u(2),V(e.content)}}function pe(t,r){if(t&1&&(l(0,"div",5)(1,"span",6),c(2),a()()),t&2){let e=d().$implicit;u(2),k(" ",e.content," ")}}function me(t,r){if(t&1&&m(0,fe,6,1,"div",2)(1,pe,3,1),t&2){let e=r.$implicit;_(0,e.type==="verse"?0:1)}}var Y=(()=>{class t{constructor(){this.chapterData=z([])}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=S({type:t,selectors:[["app-search-content"]],inputs:{chapterData:[U.SignalBased,"chapterData"]},standalone:!0,features:[P],decls:5,vars:0,consts:[[1,"flex-grow-1"],[1,"mt-3"],[1,"mb-3"],[1,"verse-number"],[1,"verse-content"],[1,"mt-3","mb-3"],[1,"verse-heading"]],template:function(n,i){n&1&&(D(0,"hr",0),l(1,"div",1),C(2,me,2,1,null,null,ae),a(),D(4,"hr",0)),n&2&&(u(2),V(i.chapterData()))},styles:[".verse-number[_ngcontent-%COMP%]{font-weight:700;margin-right:4px;font-size:medium}.verse-content[_ngcontent-%COMP%]{font-size:20px;font-style:normal}.verse-heading[_ngcontent-%COMP%]{font-weight:700;font-size:28px}"]})}}return t})();var ge=(()=>{class t{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(n){return new(n||t)(f(N),f(x))}}static{this.\u0275dir=y({type:t})}}return t})(),J=(()=>{class t extends ge{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=I(t)))(i||t)}})()}static{this.\u0275dir=y({type:t,features:[O]})}}return t})(),Q=new R("");var _e={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},lt=q(W({},_e),{"[class.ng-submitted]":"isSubmitted"});var ve=new R("CallSetDisabledState",{providedIn:"root",factory:()=>ee}),ee="always";var ye={provide:Q,useExisting:G(()=>ne),multi:!0};function te(t,r){return t==null?`${r}`:(r&&typeof r=="object"&&(r="Object"),`${t}: ${r}`.slice(0,50))}function Ce(t){return t.split(":")[0]}var ne=(()=>{class t extends J{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n=this._getOptionId(e),i=te(n,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=Ce(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=I(t)))(i||t)}})()}static{this.\u0275dir=y({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,i){n&1&&v("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[$([ye]),O]})}}return t})(),ie=(()=>{class t{constructor(e,n,i){this._element=e,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(te(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||t)(f(x),f(N),f(ne,9))}}static{this.\u0275dir=y({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),Ve={provide:Q,useExisting:G(()=>re),multi:!0};function K(t,r){return t==null?`${r}`:(typeof r=="string"&&(r=`'${r}'`),r&&typeof r=="object"&&(r="Object"),`${t}: ${r}`.slice(0,50))}function De(t){return t.split(":")[0]}var re=(()=>{class t extends J{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n;if(Array.isArray(e)){let i=e.map(o=>this._getOptionId(o));n=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else n=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let i=[],o=n.selectedOptions;if(o!==void 0){let s=o;for(let h=0;h<s.length;h++){let F=s[h],T=this._getOptionValue(F.value);i.push(T)}}else{let s=n.options;for(let h=0;h<s.length;h++){let F=s[h];if(F.selected){let T=this._getOptionValue(F.value);i.push(T)}}}this.value=i,e(i)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=De(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=I(t)))(i||t)}})()}static{this.\u0275dir=y({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,i){n&1&&v("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[$([Ve]),O]})}}return t})(),oe=(()=>{class t{constructor(e,n,i){this._element=e,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(K(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(K(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||t)(f(x),f(N),f(re,9))}}static{this.\u0275dir=y({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var be=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=H({type:t})}static{this.\u0275inj=B({})}}return t})();var se=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:ve,useValue:e.callSetDisabledState??ee}]}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=H({type:t})}static{this.\u0275inj=B({imports:[be]})}}return t})();var Ae=(t,r)=>r.id;function Fe(t,r){if(t&1&&(l(0,"option",13),c(1),a()),t&2){let e=r.$implicit;g("value",e.id),u(),b(e.name)}}function Ee(t,r){if(t&1&&C(0,Fe,2,2,"option",13,Ae),t&2){let e=d();V(e.translationsData())}}function we(t,r){if(t&1&&(l(0,"option",13),c(1),a()),t&2){let e=r.$implicit;g("value",e.id),u(),b(e.name)}}function Se(t,r){if(t&1&&C(0,we,2,2,"option",13,A),t&2){let e=d();V(e.booksData())}}function Ie(t,r){if(t&1&&(l(0,"option",13),c(1),a()),t&2){let e=r.$implicit;g("value",e),u(),b(e)}}function xe(t,r){if(t&1&&C(0,Ie,2,2,"option",13,A),t&2){let e=d();V(e.numberOfChapters())}}function Ne(t,r){if(t&1&&D(0,"app-search-content",12),t&2){let e=d();g("chapterData",e.chapterData())}}var gt=(()=>{class t{constructor(){this.apiService=M(X),this.translationsData=p([]),this.booksData=p([]),this.numberOfChapters=p([]),this.chapterData=p([]),this.selectedTranslation=p(""),this.selectedBook=p(""),this.selectedChapter=p(""),this.showSearchContent=p(!1)}ngOnInit(){this.fetchTranslations()}fetchTranslations(){this.apiService.getTranslations().pipe(w(e=>(console.error(e),E([])))).subscribe(e=>{let n=e.translations.filter(i=>i.language==="eng");this.translationsData.set(n)})}onTranslationChange(e){let n=e.target.value;this.selectedTranslation.set(n),this.selectedBook.set(""),this.booksData.set([]),this.selectedChapter.set(""),this.numberOfChapters.set([]),this.showSearchContent.set(!1),n&&this.apiService.getBooks(n).pipe(w(i=>(console.error(i),E({books:[]})))).subscribe(i=>{this.booksData.set(i.books??[])})}onBookChange(e){let n=e.target.value;this.selectedBook.set(n),this.selectedChapter.set(""),this.numberOfChapters.set([]),this.showSearchContent.set(!1);let i=this.booksData().find(o=>o.id===n);if(i){let o=Array.from({length:i.numberOfChapters},(s,h)=>h+1);this.numberOfChapters.set(o)}}onChapterChange(e){this.selectedChapter.set(e.target.value),this.showSearchContent.set(!1)}onClickSearch(){this.chapterData.set([]),this.apiService.getChapters(this.selectedTranslation(),this.selectedBook(),this.selectedChapter()).pipe(w(e=>(console.error(e),E([])))).subscribe(e=>{let n=e.chapter.content??[];this.chapterData.set(n),console.log(n)}),this.showSearchContent.set(!0)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=S({type:t,selectors:[["app-home"]],standalone:!0,features:[P],decls:25,vars:9,consts:[[1,"container","home-content"],[1,"row"],[1,"col-12"],[1,"form-select",3,"change"],["selected","",3,"value"],[1,"row","mt-3"],[1,"col-6"],["aria-label","Books",1,"form-select",3,"change","disabled","value"],["selected",""],["aria-label","Chapters",1,"form-select",3,"change","disabled","value"],[1,"button-search","row","mt-3","mb-4"],[1,"btn","btn-success",3,"click","disabled"],[3,"chapterData"],[3,"value"]],template:function(n,i){n&1&&(l(0,"div",0)(1,"div")(2,"h5"),c(3,"Read and search the bible below:"),a()(),l(4,"div",1)(5,"div",2)(6,"select",3),v("change",function(s){return i.onTranslationChange(s)}),l(7,"option",4),c(8,"-- Select a Translation --"),a(),m(9,Ee,2,0),a()()(),l(10,"div",5)(11,"div",6)(12,"select",7),v("change",function(s){return i.onBookChange(s)}),l(13,"option",8),c(14,"-- Select a Book --"),a(),m(15,Se,2,0),a()(),l(16,"div",6)(17,"select",9),v("change",function(s){return i.onChapterChange(s)}),l(18,"option",8),c(19,"-- Select a Chapter --"),a(),m(20,xe,2,0),a()()(),l(21,"div",10)(22,"button",11),v("click",function(){return i.onClickSearch()}),c(23,"Search"),a()(),m(24,Ne,1,1,"app-search-content",12),a()),n&2&&(u(9),_(9,i.translationsData().length>0?9:-1),u(3),g("disabled",!i.selectedTranslation())("value",i.selectedBook()),u(3),_(15,i.booksData()?15:-1),u(2),g("disabled",!i.selectedBook())("value",i.selectedChapter()),u(3),_(20,i.numberOfChapters()?20:-1),u(2),g("disabled",!i.selectedChapter()),u(2),_(24,i.showSearchContent()?24:-1))},dependencies:[Y,se,ie,oe],styles:[".home-content[_ngcontent-%COMP%]{padding-top:100px;padding-bottom:100px}.button-search[_ngcontent-%COMP%]{padding-left:12px;padding-right:12px}"]})}}return t})();export{gt as HomeComponent};
